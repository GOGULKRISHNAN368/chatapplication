{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gogul\\\\OneDrive\\\\Desktop\\\\chat-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Send, Search, Users, User, Edit2, Trash2, Reply, Check, CheckCheck, Circle, Menu, X, UserPlus, LogOut } from 'lucide-react';\n\n// Mock Socket.io functionality (in real app, use actual socket.io-client)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass MockSocket {\n  constructor() {\n    this.listeners = {};\n  }\n  on(event, callback) {\n    if (!this.listeners[event]) this.listeners[event] = [];\n    this.listeners[event].push(callback);\n  }\n  emit(event, data) {\n    console.log('Socket emit:', event, data);\n    setTimeout(() => {\n      if (event === 'send_message') {\n        this.trigger('message_received', {\n          ...data,\n          status: 'delivered'\n        });\n      }\n    }, 100);\n  }\n  trigger(event, data) {\n    if (this.listeners[event]) {\n      this.listeners[event].forEach(cb => cb(data));\n    }\n  }\n}\nconst socket = new MockSocket();\nfunction ChatApp() {\n  _s();\n  var _selectedContact$memb;\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [contacts, setContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [messages, setMessages] = useState({});\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState({});\n  const [onlineUsers, setOnlineUsers] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [editingMessage, setEditingMessage] = useState(null);\n  const [showAddContact, setShowAddContact] = useState(false);\n  const [newContactId, setNewContactId] = useState('');\n  const [showGroupModal, setShowGroupModal] = useState(false);\n  const [groupName, setGroupName] = useState('');\n  const [selectedMembers, setSelectedMembers] = useState([]);\n  const [showSidebar, setShowSidebar] = useState(true);\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (currentUser) {\n      const demoContacts = [{\n        id: 'user123',\n        name: 'John Doe',\n        uniqueId: 'JD-8901',\n        isOnline: true,\n        lastSeen: new Date(),\n        isGroup: false\n      }, {\n        id: 'user456',\n        name: 'Jane Smith',\n        uniqueId: 'JS-5672',\n        isOnline: false,\n        lastSeen: new Date(Date.now() - 3600000),\n        isGroup: false\n      }, {\n        id: 'group789',\n        name: 'Team Project',\n        uniqueId: 'TP-3421',\n        members: ['user123', 'user456'],\n        isGroup: true\n      }];\n      setContacts(demoContacts);\n      const demoMessages = {\n        'user123': [{\n          id: 'm1',\n          senderId: 'user123',\n          text: 'Hey! How are you?',\n          timestamp: new Date(Date.now() - 3600000),\n          status: 'read'\n        }, {\n          id: 'm2',\n          senderId: currentUser.id,\n          text: 'I am good! Thanks for asking.',\n          timestamp: new Date(Date.now() - 3000000),\n          status: 'read'\n        }]\n      };\n      setMessages(demoMessages);\n      setOnlineUsers({\n        'user123': true,\n        'user456': false\n      });\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (currentUser) {\n      socket.on('message_received', msg => {\n        setMessages(prev => ({\n          ...prev,\n          [msg.contactId]: [...(prev[msg.contactId] || []), msg]\n        }));\n      });\n      socket.on('user_typing', ({\n        userId,\n        isTyping: typing\n      }) => {\n        setIsTyping(prev => ({\n          ...prev,\n          [userId]: typing\n        }));\n      });\n      socket.on('user_online', ({\n        userId,\n        isOnline\n      }) => {\n        setOnlineUsers(prev => ({\n          ...prev,\n          [userId]: isOnline\n        }));\n      });\n      socket.on('message_status_update', ({\n        messageId,\n        status\n      }) => {\n        setMessages(prev => {\n          const updated = {\n            ...prev\n          };\n          Object.keys(updated).forEach(contactId => {\n            updated[contactId] = updated[contactId].map(msg => msg.id === messageId ? {\n              ...msg,\n              status\n            } : msg);\n          });\n          return updated;\n        });\n      });\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, selectedContact]);\n  const handleAuth = () => {\n    if (isLogin) {\n      const user = {\n        id: 'currentUser',\n        email,\n        name: email.split('@')[0],\n        uniqueId: 'CU-' + Math.floor(1000 + Math.random() * 9000)\n      };\n      setCurrentUser(user);\n      localStorage.setItem('user', JSON.stringify(user));\n    } else {\n      const user = {\n        id: 'user_' + Date.now(),\n        email,\n        name,\n        uniqueId: name.substring(0, 2).toUpperCase() + '-' + Math.floor(1000 + Math.random() * 9000)\n      };\n      setCurrentUser(user);\n      localStorage.setItem('user', JSON.stringify(user));\n    }\n  };\n  const handleLogout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('user');\n  };\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !selectedContact) return;\n    const newMessage = {\n      id: 'm_' + Date.now(),\n      senderId: currentUser.id,\n      text: inputMessage,\n      timestamp: new Date(),\n      status: 'sent',\n      replyTo: replyTo ? replyTo.id : null\n    };\n    if (editingMessage) {\n      setMessages(prev => ({\n        ...prev,\n        [selectedContact.id]: prev[selectedContact.id].map(msg => msg.id === editingMessage.id ? {\n          ...msg,\n          text: inputMessage,\n          edited: true\n        } : msg)\n      }));\n      setEditingMessage(null);\n    } else {\n      setMessages(prev => ({\n        ...prev,\n        [selectedContact.id]: [...(prev[selectedContact.id] || []), newMessage]\n      }));\n      socket.emit('send_message', {\n        contactId: selectedContact.id,\n        message: newMessage\n      });\n    }\n    setInputMessage('');\n    setReplyTo(null);\n  };\n  const handleTyping = e => {\n    setInputMessage(e.target.value);\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    socket.emit('typing', {\n      contactId: selectedContact.id,\n      isTyping: true\n    });\n    typingTimeoutRef.current = setTimeout(() => {\n      socket.emit('typing', {\n        contactId: selectedContact.id,\n        isTyping: false\n      });\n    }, 1000);\n  };\n  const deleteMessage = (msgId, deleteForEveryone = false) => {\n    setMessages(prev => ({\n      ...prev,\n      [selectedContact.id]: prev[selectedContact.id].map(msg => msg.id === msgId ? {\n        ...msg,\n        deleted: true,\n        deletedForEveryone: deleteForEveryone\n      } : msg)\n    }));\n    if (deleteForEveryone) {\n      socket.emit('delete_message', {\n        messageId: msgId,\n        contactId: selectedContact.id\n      });\n    }\n  };\n  const addContact = () => {\n    if (!newContactId.trim()) return;\n    const newContact = {\n      id: 'user_' + Date.now(),\n      name: newContactId,\n      uniqueId: newContactId,\n      isOnline: false,\n      lastSeen: new Date(),\n      isGroup: false\n    };\n    setContacts(prev => [...prev, newContact]);\n    setShowAddContact(false);\n    setNewContactId('');\n  };\n  const createGroup = () => {\n    if (!groupName.trim() || selectedMembers.length === 0) return;\n    const newGroup = {\n      id: 'group_' + Date.now(),\n      name: groupName,\n      uniqueId: groupName.substring(0, 2).toUpperCase() + '-' + Math.floor(1000 + Math.random() * 9000),\n      members: selectedMembers,\n      isGroup: true\n    };\n    setContacts(prev => [...prev, newGroup]);\n    setShowGroupModal(false);\n    setGroupName('');\n    setSelectedMembers([]);\n  };\n  const filteredContacts = contacts.filter(contact => contact.name.toLowerCase().includes(searchQuery.toLowerCase()) || contact.uniqueId.toLowerCase().includes(searchQuery.toLowerCase()));\n  const filteredMessages = selectedContact && messages[selectedContact.id] ? messages[selectedContact.id].filter(msg => msg.text.toLowerCase().includes(searchQuery.toLowerCase())) : [];\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              className: \"text-white\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"ChatConnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Connect instantly with anyone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [!isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 mb-2 font-medium\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 mb-2 font-medium\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 mb-2 font-medium\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAuth,\n            className: \"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors\",\n            children: isLogin ? 'Login' : 'Register'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center mt-6 text-gray-600\",\n          children: [isLogin ? \"Don't have an account? \" : \"Already have an account? \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsLogin(!isLogin),\n            className: \"text-indigo-600 font-semibold hover:underline\",\n            children: isLogin ? 'Register' : 'Login'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${showSidebar ? 'w-80' : 'w-0'} bg-white border-r border-gray-200 flex flex-col transition-all duration-300 overflow-hidden`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-indigo-600 text-white p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-white rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(User, {\n                className: \"text-indigo-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold\",\n                children: currentUser.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs opacity-90\",\n                children: [\"ID: \", currentUser.uniqueId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"hover:bg-indigo-700 p-2 rounded-lg transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(LogOut, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-3 text-indigo-300\",\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search contacts...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"w-full pl-10 pr-4 py-2 rounded-lg bg-indigo-700 text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 p-3 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddContact(true),\n          className: \"flex-1 flex items-center justify-center gap-2 bg-indigo-50 text-indigo-600 py-2 rounded-lg hover:bg-indigo-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"Add Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowGroupModal(true),\n          className: \"flex-1 flex items-center justify-center gap-2 bg-green-50 text-green-600 py-2 rounded-lg hover:bg-green-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"New Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto\",\n        children: filteredContacts.map(contact => {\n          var _contact$members;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedContact(contact),\n            className: `p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id ? 'bg-indigo-50' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-12 h-12 rounded-full flex items-center justify-center ${contact.isGroup ? 'bg-green-100' : 'bg-indigo-100'}`,\n                  children: contact.isGroup ? /*#__PURE__*/_jsxDEV(Users, {\n                    className: \"text-green-600\",\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(User, {\n                    className: \"text-indigo-600\",\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), !contact.isGroup && onlineUsers[contact.id] && /*#__PURE__*/_jsxDEV(Circle, {\n                  className: \"absolute bottom-0 right-0 text-green-500 fill-green-500\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-800 truncate\",\n                  children: contact.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 truncate\",\n                  children: contact.isGroup ? `${((_contact$members = contact.members) === null || _contact$members === void 0 ? void 0 : _contact$members.length) || 0} members` : contact.uniqueId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this), !contact.isGroup && !onlineUsers[contact.id] && contact.lastSeen && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400\",\n                  children: [\"Last seen \", new Date(contact.lastSeen).toLocaleTimeString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this)\n          }, contact.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 p-4 flex items-center justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSidebar(!showSidebar),\n              className: \"lg:hidden hover:bg-gray-100 p-2 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(Menu, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-10 h-10 rounded-full flex items-center justify-center ${selectedContact.isGroup ? 'bg-green-100' : 'bg-indigo-100'}`,\n              children: selectedContact.isGroup ? /*#__PURE__*/_jsxDEV(Users, {\n                className: \"text-green-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(User, {\n                className: \"text-indigo-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold text-gray-800\",\n                children: selectedContact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: selectedContact.isGroup ? `${((_selectedContact$memb = selectedContact.members) === null || _selectedContact$memb === void 0 ? void 0 : _selectedContact$memb.length) || 0} members` : onlineUsers[selectedContact.id] ? 'Online' : 'Offline'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this), isTyping[selectedContact.id] && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-indigo-600\",\n                children: \"typing...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",\n          children: [(messages[selectedContact.id] || []).map(msg => {\n            var _messages$selectedCon;\n            const isOwn = msg.senderId === currentUser.id;\n            const replyToMsg = msg.replyTo ? (_messages$selectedCon = messages[selectedContact.id]) === null || _messages$selectedCon === void 0 ? void 0 : _messages$selectedCon.find(m => m.id === msg.replyTo) : null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex ${isOwn ? 'justify-end' : 'justify-start'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-md ${isOwn ? 'bg-indigo-600 text-white' : 'bg-white text-gray-800'} rounded-lg p-3 shadow-sm`,\n                children: [replyToMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-xs mb-2 p-2 rounded ${isOwn ? 'bg-indigo-700' : 'bg-gray-100'} border-l-2 ${isOwn ? 'border-white' : 'border-indigo-600'}`,\n                  children: [/*#__PURE__*/_jsxDEV(Reply, {\n                    size: 12,\n                    className: \"inline mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 27\n                  }, this), replyToMsg.text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 25\n                }, this), msg.deleted ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"italic opacity-70\",\n                  children: msg.deletedForEveryone ? 'This message was deleted' : 'You deleted this message'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"break-words\",\n                    children: msg.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 27\n                  }, this), msg.edited && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs opacity-70 ml-2\",\n                    children: \"(edited)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 42\n                  }, this)]\n                }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs opacity-70\",\n                    children: new Date(msg.timestamp).toLocaleTimeString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this), isOwn && !msg.deleted && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [msg.status === 'sent' && /*#__PURE__*/_jsxDEV(Check, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 477,\n                      columnNumber: 55\n                    }, this), msg.status === 'delivered' && /*#__PURE__*/_jsxDEV(CheckCheck, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 60\n                    }, this), msg.status === 'read' && /*#__PURE__*/_jsxDEV(CheckCheck, {\n                      size: 14,\n                      className: \"text-blue-300\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 55\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setReplyTo(msg),\n                      className: \"hover:opacity-70\",\n                      children: /*#__PURE__*/_jsxDEV(Reply, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 485,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setEditingMessage(msg);\n                        setInputMessage(msg.text);\n                      },\n                      className: \"hover:opacity-70\",\n                      children: /*#__PURE__*/_jsxDEV(Edit2, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 494,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        if (window.confirm('Delete for everyone?')) {\n                          deleteMessage(msg.id, true);\n                        } else {\n                          deleteMessage(msg.id, false);\n                        }\n                      },\n                      className: \"hover:opacity-70\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)\n            }, msg.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 19\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-t border-gray-200 p-4\",\n          children: [replyTo && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 p-2 bg-gray-100 rounded-lg flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(Reply, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Replying to: \", replyTo.text]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setReplyTo(null),\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 17\n          }, this), editingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 p-2 bg-blue-100 rounded-lg flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-blue-600\",\n              children: [/*#__PURE__*/_jsxDEV(Edit2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Editing message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setEditingMessage(null);\n                setInputMessage('');\n              },\n              className: \"text-blue-600 hover:text-blue-800\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: inputMessage,\n              onChange: handleTyping,\n              onKeyPress: e => e.key === 'Enter' && sendMessage(),\n              placeholder: \"Type a message...\",\n              className: \"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: sendMessage,\n              className: \"bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(Send, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center justify-center bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"mx-auto text-gray-400 mb-4\",\n            size: 64\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-600\",\n            children: \"Select a chat to start messaging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), showAddContact && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Add New Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter unique ID (e.g., JD-8901)\",\n          value: newContactId,\n          onChange: e => setNewContactId(e.target.value),\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addContact,\n            className: \"flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700\",\n            children: \"Add Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAddContact(false);\n              setNewContactId('');\n            },\n            className: \"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }, this), showGroupModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Create New Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Group name\",\n          value: groupName,\n          onChange: e => setGroupName(e.target.value),\n          className: \"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mb-2\",\n          children: \"Select members:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-h-48 overflow-y-auto mb-4 space-y-2\",\n          children: contacts.filter(c => !c.isGroup).map(contact => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: selectedMembers.includes(contact.id),\n              onChange: e => {\n                if (e.target.checked) {\n                  setSelectedMembers([...selectedMembers, contact.id]);\n                } else {\n                  setSelectedMembers(selectedMembers.filter(id => id !== contact.id));\n                }\n              },\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: contact.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 19\n            }, this)]\n          }, contact.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: createGroup,\n            className: \"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700\",\n            children: \"Create Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowGroupModal(false);\n              setGroupName('');\n              setSelectedMembers([]);\n            },\n            className: \"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatApp, \"NWr1mJy8eiKC3eD4L8+/S9GEUFo=\");\n_c = ChatApp;\nexport default ChatApp;\nvar _c;\n$RefreshReg$(_c, \"ChatApp\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Send","Search","Users","User","Edit2","Trash2","Reply","Check","CheckCheck","Circle","Menu","X","UserPlus","LogOut","jsxDEV","_jsxDEV","Fragment","_Fragment","MockSocket","constructor","listeners","on","event","callback","push","emit","data","console","log","setTimeout","trigger","status","forEach","cb","socket","ChatApp","_s","_selectedContact$memb","currentUser","setCurrentUser","isLogin","setIsLogin","email","setEmail","password","setPassword","name","setName","contacts","setContacts","selectedContact","setSelectedContact","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","onlineUsers","setOnlineUsers","searchQuery","setSearchQuery","replyTo","setReplyTo","editingMessage","setEditingMessage","showAddContact","setShowAddContact","newContactId","setNewContactId","showGroupModal","setShowGroupModal","groupName","setGroupName","selectedMembers","setSelectedMembers","showSidebar","setShowSidebar","messagesEndRef","typingTimeoutRef","demoContacts","id","uniqueId","isOnline","lastSeen","Date","isGroup","now","members","demoMessages","senderId","text","timestamp","msg","prev","contactId","userId","typing","messageId","updated","Object","keys","map","_messagesEndRef$curre","current","scrollIntoView","behavior","handleAuth","user","split","Math","floor","random","localStorage","setItem","JSON","stringify","substring","toUpperCase","handleLogout","removeItem","sendMessage","trim","newMessage","edited","message","handleTyping","e","target","value","clearTimeout","deleteMessage","msgId","deleteForEveryone","deleted","deletedForEveryone","addContact","newContact","createGroup","length","newGroup","filteredContacts","filter","contact","toLowerCase","includes","filteredMessages","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","placeholder","_contact$members","toLocaleTimeString","_messages$selectedCon","isOwn","replyToMsg","find","m","window","confirm","ref","onKeyPress","key","c","checked","_c","$RefreshReg$"],"sources":["C:/Users/Gogul/OneDrive/Desktop/chat-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Send, Search, Users, User, Edit2, Trash2, Reply, Check, CheckCheck, Circle, Menu, X, UserPlus, LogOut } from 'lucide-react';\r\n\r\n// Mock Socket.io functionality (in real app, use actual socket.io-client)\r\nclass MockSocket {\r\n  constructor() {\r\n    this.listeners = {};\r\n  }\r\n  \r\n  on(event, callback) {\r\n    if (!this.listeners[event]) this.listeners[event] = [];\r\n    this.listeners[event].push(callback);\r\n  }\r\n  \r\n  emit(event, data) {\r\n    console.log('Socket emit:', event, data);\r\n    setTimeout(() => {\r\n      if (event === 'send_message') {\r\n        this.trigger('message_received', { ...data, status: 'delivered' });\r\n      }\r\n    }, 100);\r\n  }\r\n  \r\n  trigger(event, data) {\r\n    if (this.listeners[event]) {\r\n      this.listeners[event].forEach(cb => cb(data));\r\n    }\r\n  }\r\n}\r\n\r\nconst socket = new MockSocket();\r\n\r\nfunction ChatApp() {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  \r\n  const [contacts, setContacts] = useState([]);\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [messages, setMessages] = useState({});\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState({});\r\n  const [onlineUsers, setOnlineUsers] = useState({});\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [replyTo, setReplyTo] = useState(null);\r\n  const [editingMessage, setEditingMessage] = useState(null);\r\n  const [showAddContact, setShowAddContact] = useState(false);\r\n  const [newContactId, setNewContactId] = useState('');\r\n  const [showGroupModal, setShowGroupModal] = useState(false);\r\n  const [groupName, setGroupName] = useState('');\r\n  const [selectedMembers, setSelectedMembers] = useState([]);\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n  \r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      const demoContacts = [\r\n        { id: 'user123', name: 'John Doe', uniqueId: 'JD-8901', isOnline: true, lastSeen: new Date(), isGroup: false },\r\n        { id: 'user456', name: 'Jane Smith', uniqueId: 'JS-5672', isOnline: false, lastSeen: new Date(Date.now() - 3600000), isGroup: false },\r\n        { id: 'group789', name: 'Team Project', uniqueId: 'TP-3421', members: ['user123', 'user456'], isGroup: true }\r\n      ];\r\n      setContacts(demoContacts);\r\n      \r\n      const demoMessages = {\r\n        'user123': [\r\n          { id: 'm1', senderId: 'user123', text: 'Hey! How are you?', timestamp: new Date(Date.now() - 3600000), status: 'read' },\r\n          { id: 'm2', senderId: currentUser.id, text: 'I am good! Thanks for asking.', timestamp: new Date(Date.now() - 3000000), status: 'read' }\r\n        ]\r\n      };\r\n      setMessages(demoMessages);\r\n      \r\n      setOnlineUsers({ 'user123': true, 'user456': false });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      socket.on('message_received', (msg) => {\r\n        setMessages(prev => ({\r\n          ...prev,\r\n          [msg.contactId]: [...(prev[msg.contactId] || []), msg]\r\n        }));\r\n      });\r\n      \r\n      socket.on('user_typing', ({ userId, isTyping: typing }) => {\r\n        setIsTyping(prev => ({ ...prev, [userId]: typing }));\r\n      });\r\n      \r\n      socket.on('user_online', ({ userId, isOnline }) => {\r\n        setOnlineUsers(prev => ({ ...prev, [userId]: isOnline }));\r\n      });\r\n      \r\n      socket.on('message_status_update', ({ messageId, status }) => {\r\n        setMessages(prev => {\r\n          const updated = { ...prev };\r\n          Object.keys(updated).forEach(contactId => {\r\n            updated[contactId] = updated[contactId].map(msg =>\r\n              msg.id === messageId ? { ...msg, status } : msg\r\n            );\r\n          });\r\n          return updated;\r\n        });\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, selectedContact]);\r\n\r\n  const handleAuth = () => {\r\n    if (isLogin) {\r\n      const user = {\r\n        id: 'currentUser',\r\n        email,\r\n        name: email.split('@')[0],\r\n        uniqueId: 'CU-' + Math.floor(1000 + Math.random() * 9000)\r\n      };\r\n      setCurrentUser(user);\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n    } else {\r\n      const user = {\r\n        id: 'user_' + Date.now(),\r\n        email,\r\n        name,\r\n        uniqueId: name.substring(0, 2).toUpperCase() + '-' + Math.floor(1000 + Math.random() * 9000)\r\n      };\r\n      setCurrentUser(user);\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setCurrentUser(null);\r\n    localStorage.removeItem('user');\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (!inputMessage.trim() || !selectedContact) return;\r\n    \r\n    const newMessage = {\r\n      id: 'm_' + Date.now(),\r\n      senderId: currentUser.id,\r\n      text: inputMessage,\r\n      timestamp: new Date(),\r\n      status: 'sent',\r\n      replyTo: replyTo ? replyTo.id : null\r\n    };\r\n    \r\n    if (editingMessage) {\r\n      setMessages(prev => ({\r\n        ...prev,\r\n        [selectedContact.id]: prev[selectedContact.id].map(msg =>\r\n          msg.id === editingMessage.id ? { ...msg, text: inputMessage, edited: true } : msg\r\n        )\r\n      }));\r\n      setEditingMessage(null);\r\n    } else {\r\n      setMessages(prev => ({\r\n        ...prev,\r\n        [selectedContact.id]: [...(prev[selectedContact.id] || []), newMessage]\r\n      }));\r\n      \r\n      socket.emit('send_message', {\r\n        contactId: selectedContact.id,\r\n        message: newMessage\r\n      });\r\n    }\r\n    \r\n    setInputMessage('');\r\n    setReplyTo(null);\r\n  };\r\n\r\n  const handleTyping = (e) => {\r\n    setInputMessage(e.target.value);\r\n    \r\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\r\n    \r\n    socket.emit('typing', { contactId: selectedContact.id, isTyping: true });\r\n    \r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      socket.emit('typing', { contactId: selectedContact.id, isTyping: false });\r\n    }, 1000);\r\n  };\r\n\r\n  const deleteMessage = (msgId, deleteForEveryone = false) => {\r\n    setMessages(prev => ({\r\n      ...prev,\r\n      [selectedContact.id]: prev[selectedContact.id].map(msg =>\r\n        msg.id === msgId\r\n          ? { ...msg, deleted: true, deletedForEveryone: deleteForEveryone }\r\n          : msg\r\n      )\r\n    }));\r\n    \r\n    if (deleteForEveryone) {\r\n      socket.emit('delete_message', { messageId: msgId, contactId: selectedContact.id });\r\n    }\r\n  };\r\n\r\n  const addContact = () => {\r\n    if (!newContactId.trim()) return;\r\n    \r\n    const newContact = {\r\n      id: 'user_' + Date.now(),\r\n      name: newContactId,\r\n      uniqueId: newContactId,\r\n      isOnline: false,\r\n      lastSeen: new Date(),\r\n      isGroup: false\r\n    };\r\n    \r\n    setContacts(prev => [...prev, newContact]);\r\n    setShowAddContact(false);\r\n    setNewContactId('');\r\n  };\r\n\r\n  const createGroup = () => {\r\n    if (!groupName.trim() || selectedMembers.length === 0) return;\r\n    \r\n    const newGroup = {\r\n      id: 'group_' + Date.now(),\r\n      name: groupName,\r\n      uniqueId: groupName.substring(0, 2).toUpperCase() + '-' + Math.floor(1000 + Math.random() * 9000),\r\n      members: selectedMembers,\r\n      isGroup: true\r\n    };\r\n    \r\n    setContacts(prev => [...prev, newGroup]);\r\n    setShowGroupModal(false);\r\n    setGroupName('');\r\n    setSelectedMembers([]);\r\n  };\r\n\r\n  const filteredContacts = contacts.filter(contact =>\r\n    contact.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    contact.uniqueId.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const filteredMessages = selectedContact && messages[selectedContact.id]\r\n    ? messages[selectedContact.id].filter(msg =>\r\n        msg.text.toLowerCase().includes(searchQuery.toLowerCase())\r\n      )\r\n    : [];\r\n\r\n  if (!currentUser) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\r\n        <div className=\"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md\">\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"bg-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <Users className=\"text-white\" size={32} />\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-gray-800\">ChatConnect</h1>\r\n            <p className=\"text-gray-600 mt-2\">Connect instantly with anyone</p>\r\n          </div>\r\n          \r\n          <div>\r\n            {!isLogin && (\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-gray-700 mb-2 font-medium\">Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                />\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700 mb-2 font-medium\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-700 mb-2 font-medium\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n              />\r\n            </div>\r\n            \r\n            <button\r\n              onClick={handleAuth}\r\n              className=\"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors\"\r\n            >\r\n              {isLogin ? 'Login' : 'Register'}\r\n            </button>\r\n          </div>\r\n          \r\n          <p className=\"text-center mt-6 text-gray-600\">\r\n            {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\r\n            <button\r\n              onClick={() => setIsLogin(!isLogin)}\r\n              className=\"text-indigo-600 font-semibold hover:underline\"\r\n            >\r\n              {isLogin ? 'Register' : 'Login'}\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      <div className={`${showSidebar ? 'w-80' : 'w-0'} bg-white border-r border-gray-200 flex flex-col transition-all duration-300 overflow-hidden`}>\r\n        <div className=\"bg-indigo-600 text-white p-4\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center\">\r\n                <User className=\"text-indigo-600\" size={24} />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"font-semibold\">{currentUser.name}</h2>\r\n                <p className=\"text-xs opacity-90\">ID: {currentUser.uniqueId}</p>\r\n              </div>\r\n            </div>\r\n            <button onClick={handleLogout} className=\"hover:bg-indigo-700 p-2 rounded-lg transition-colors\">\r\n              <LogOut size={20} />\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-3 text-indigo-300\" size={18} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search contacts...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg bg-indigo-700 text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-white\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2 p-3 border-b border-gray-200\">\r\n          <button\r\n            onClick={() => setShowAddContact(true)}\r\n            className=\"flex-1 flex items-center justify-center gap-2 bg-indigo-50 text-indigo-600 py-2 rounded-lg hover:bg-indigo-100 transition-colors\"\r\n          >\r\n            <UserPlus size={18} />\r\n            <span className=\"text-sm font-medium\">Add Contact</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setShowGroupModal(true)}\r\n            className=\"flex-1 flex items-center justify-center gap-2 bg-green-50 text-green-600 py-2 rounded-lg hover:bg-green-100 transition-colors\"\r\n          >\r\n            <Users size={18} />\r\n            <span className=\"text-sm font-medium\">New Group</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {filteredContacts.map(contact => (\r\n            <div\r\n              key={contact.id}\r\n              onClick={() => setSelectedContact(contact)}\r\n              className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\r\n                selectedContact?.id === contact.id ? 'bg-indigo-50' : ''\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"relative\">\r\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                    contact.isGroup ? 'bg-green-100' : 'bg-indigo-100'\r\n                  }`}>\r\n                    {contact.isGroup ? (\r\n                      <Users className=\"text-green-600\" size={24} />\r\n                    ) : (\r\n                      <User className=\"text-indigo-600\" size={24} />\r\n                    )}\r\n                  </div>\r\n                  {!contact.isGroup && onlineUsers[contact.id] && (\r\n                    <Circle className=\"absolute bottom-0 right-0 text-green-500 fill-green-500\" size={12} />\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h3 className=\"font-semibold text-gray-800 truncate\">{contact.name}</h3>\r\n                  <p className=\"text-sm text-gray-500 truncate\">\r\n                    {contact.isGroup ? `${contact.members?.length || 0} members` : contact.uniqueId}\r\n                  </p>\r\n                  {!contact.isGroup && !onlineUsers[contact.id] && contact.lastSeen && (\r\n                    <p className=\"text-xs text-gray-400\">\r\n                      Last seen {new Date(contact.lastSeen).toLocaleTimeString()}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {selectedContact ? (\r\n          <>\r\n            <div className=\"bg-white border-b border-gray-200 p-4 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <button\r\n                  onClick={() => setShowSidebar(!showSidebar)}\r\n                  className=\"lg:hidden hover:bg-gray-100 p-2 rounded-lg\"\r\n                >\r\n                  <Menu size={20} />\r\n                </button>\r\n                <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                  selectedContact.isGroup ? 'bg-green-100' : 'bg-indigo-100'\r\n                }`}>\r\n                  {selectedContact.isGroup ? (\r\n                    <Users className=\"text-green-600\" size={20} />\r\n                  ) : (\r\n                    <User className=\"text-indigo-600\" size={20} />\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"font-semibold text-gray-800\">{selectedContact.name}</h2>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {selectedContact.isGroup\r\n                      ? `${selectedContact.members?.length || 0} members`\r\n                      : onlineUsers[selectedContact.id]\r\n                      ? 'Online'\r\n                      : 'Offline'}\r\n                  </p>\r\n                  {isTyping[selectedContact.id] && (\r\n                    <p className=\"text-xs text-indigo-600\">typing...</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n              {(messages[selectedContact.id] || []).map(msg => {\r\n                const isOwn = msg.senderId === currentUser.id;\r\n                const replyToMsg = msg.replyTo\r\n                  ? messages[selectedContact.id]?.find(m => m.id === msg.replyTo)\r\n                  : null;\r\n\r\n                return (\r\n                  <div key={msg.id} className={`flex ${isOwn ? 'justify-end' : 'justify-start'}`}>\r\n                    <div className={`max-w-md ${isOwn ? 'bg-indigo-600 text-white' : 'bg-white text-gray-800'} rounded-lg p-3 shadow-sm`}>\r\n                      {replyToMsg && (\r\n                        <div className={`text-xs mb-2 p-2 rounded ${isOwn ? 'bg-indigo-700' : 'bg-gray-100'} border-l-2 ${isOwn ? 'border-white' : 'border-indigo-600'}`}>\r\n                          <Reply size={12} className=\"inline mr-1\" />\r\n                          {replyToMsg.text}\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {msg.deleted ? (\r\n                        <p className=\"italic opacity-70\">\r\n                          {msg.deletedForEveryone ? 'This message was deleted' : 'You deleted this message'}\r\n                        </p>\r\n                      ) : (\r\n                        <>\r\n                          <p className=\"break-words\">{msg.text}</p>\r\n                          {msg.edited && <span className=\"text-xs opacity-70 ml-2\">(edited)</span>}\r\n                        </>\r\n                      )}\r\n                      \r\n                      <div className=\"flex items-center justify-between mt-2\">\r\n                        <span className=\"text-xs opacity-70\">\r\n                          {new Date(msg.timestamp).toLocaleTimeString()}\r\n                        </span>\r\n                        \r\n                        {isOwn && !msg.deleted && (\r\n                          <div className=\"flex items-center gap-2\">\r\n                            {msg.status === 'sent' && <Check size={14} />}\r\n                            {msg.status === 'delivered' && <CheckCheck size={14} />}\r\n                            {msg.status === 'read' && <CheckCheck size={14} className=\"text-blue-300\" />}\r\n                            \r\n                            <button\r\n                              onClick={() => setReplyTo(msg)}\r\n                              className=\"hover:opacity-70\"\r\n                            >\r\n                              <Reply size={14} />\r\n                            </button>\r\n                            <button\r\n                              onClick={() => {\r\n                                setEditingMessage(msg);\r\n                                setInputMessage(msg.text);\r\n                              }}\r\n                              className=\"hover:opacity-70\"\r\n                            >\r\n                              <Edit2 size={14} />\r\n                            </button>\r\n                            <button\r\n                              onClick={() => {\r\n                                if (window.confirm('Delete for everyone?')) {\r\n                                  deleteMessage(msg.id, true);\r\n                                } else {\r\n                                  deleteMessage(msg.id, false);\r\n                                }\r\n                              }}\r\n                              className=\"hover:opacity-70\"\r\n                            >\r\n                              <Trash2 size={14} />\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            <div className=\"bg-white border-t border-gray-200 p-4\">\r\n              {replyTo && (\r\n                <div className=\"mb-2 p-2 bg-gray-100 rounded-lg flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <Reply size={16} />\r\n                    <span>Replying to: {replyTo.text}</span>\r\n                  </div>\r\n                  <button onClick={() => setReplyTo(null)} className=\"text-gray-500 hover:text-gray-700\">\r\n                    <X size={16} />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              {editingMessage && (\r\n                <div className=\"mb-2 p-2 bg-blue-100 rounded-lg flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2 text-sm text-blue-600\">\r\n                    <Edit2 size={16} />\r\n                    <span>Editing message</span>\r\n                  </div>\r\n                  <button onClick={() => { setEditingMessage(null); setInputMessage(''); }} className=\"text-blue-600 hover:text-blue-800\">\r\n                    <X size={16} />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={inputMessage}\r\n                  onChange={handleTyping}\r\n                  onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                  placeholder=\"Type a message...\"\r\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                />\r\n                <button\r\n                  onClick={sendMessage}\r\n                  className=\"bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                >\r\n                  <Send size={20} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n            <div className=\"text-center\">\r\n              <Users className=\"mx-auto text-gray-400 mb-4\" size={64} />\r\n              <h2 className=\"text-2xl font-semibold text-gray-600\">Select a chat to start messaging</h2>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showAddContact && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Add New Contact</h2>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter unique ID (e.g., JD-8901)\"\r\n              value={newContactId}\r\n              onChange={(e) => setNewContactId(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n            />\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={addContact}\r\n                className=\"flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700\"\r\n              >\r\n                Add Contact\r\n              </button>\r\n              <button\r\n                onClick={() => { setShowAddContact(false); setNewContactId(''); }}\r\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showGroupModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Create New Group</h2>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Group name\"\r\n              value={groupName}\r\n              onChange={(e) => setGroupName(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n            />\r\n            <p className=\"text-sm text-gray-600 mb-2\">Select members:</p>\r\n            <div className=\"max-h-48 overflow-y-auto mb-4 space-y-2\">\r\n              {contacts.filter(c => !c.isGroup).map(contact => (\r\n                <label key={contact.id} className=\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedMembers.includes(contact.id)}\r\n                    onChange={(e) => {\r\n                      if (e.target.checked) {\r\n                        setSelectedMembers([...selectedMembers, contact.id]);\r\n                      } else {\r\n                        setSelectedMembers(selectedMembers.filter(id => id !== contact.id));\r\n                      }\r\n                    }}\r\n                    className=\"w-4 h-4\"\r\n                  />\r\n                  <span>{contact.name}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={createGroup}\r\n                className=\"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700\"\r\n              >\r\n                Create Group\r\n              </button>\r\n              <button\r\n                onClick={() => { setShowGroupModal(false); setGroupName(''); setSelectedMembers([]); }}\r\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}